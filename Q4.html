<!DOCTYPE html>
<html
  lang="en"
  xmlns:mso="urn:schemas-microsoft-com:office:office"
  xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"
>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Add code here -->>
    <title>New Life in Weeks Numbers</title>
    <link rel="stylesheet" href="./style.css">

  </head>
  <body>
    <button type="button" id="ageButton" onclick="computeAge()">
      Compute your life time!
    </button>
    <button type="button" id="colorButton" onclick="changeColor()">
      Change color!
    </button>
    <br>

    <script>
      function computeAge() {
        // DO NOT modify any code in this function
        var currentAge = prompt("What is your current age?");
        showOnWeb(currentAge, lifeInWeeks);
      }

      // 1. Copy the "lifeInWeeks" function from Q2.html
      function lifeInWeeks(currentAge) {

      var remainingTime = {};

      var maxAge = 90;
      var yearsLeft = maxAge - currentAge;
      var daysLeft = yearsLeft * 365;
      var weeksLeft = yearsLeft * 52;
      var monthsLeft = yearsLeft * 12;

      remainingTime.days = daysLeft;
      remainingTime.weeks = weeksLeft;
      remainingTime.months = monthsLeft;

      return remainingTime;
    }


      // 2. Create the showOnWeb() function with the following specification
      function showOnWeb(currentAge, lifeInWeeks) {
        // 2.1 [1 point] Locate the DOM node of 'body' preparing for the HTML changes
        document.getElementsByClassName('body');

        // 2.2 [2 point] Call the callback function of "lifeInweeks" and prepare the text to display
        //     in the format “You have x days, y weeks, and z months left.”
        var remainingTimeObject = lifeInWeeks(currentAge);
        var resultMessage = "You have " + remainingTimeObject.days + " days, " +
                            remainingTimeObject.weeks + " weeks, and " +
                            remainingTimeObject.months + " months left.";
      
        // 2.3 [2 point] Add a new paragraph node as a child of 'body' node to display the remaining life time. [Hint: use appendChild()]
        var paragraphElement = document.createElement("p");
        paragraphElement.textContent = "Remaining life time: " + resultMessage;
      
        // 2.4 [2 point] Add a new paragraph node before the node of 2.3 to display as "My current age is xx." ; 
        // xx is the age received from prompt box [Hint: use insertBefore() ]
        var paragraphElement2 = document.createElement("p2");
        paragraphElement2.textContent = " \n My current age is: " + currentAge;

        document.body.appendChild(paragraphElement);

        document.body.appendChild(paragraphElement2);
        
        paragraphElement2.insertBefore(paragraphElement, paragraphElement2.children[0]);
        
        // In the next round of input button click, information of the previous round should be removed
        // 2.5 [2 point] Add code to remove all nodes of paragraphs from the body [Hint: using forEach(), removeChild()]
        var paragraphs = document.querySelectorAll("p");
        paragraphs.forEach(function(paragraph) {
          document.body.removeChild(paragraph);
      });
    }

      // 3. Create the changeColor() function with the following specification
      // 3.1 changeColor() will be called when user clicks the button id:"colorButton".
      // 3.2 link the html file with external 'style.css'.
      // 3.3 [2 points] The class of "blueBG" should be toggled to change background color. [Hint: use classList]
      function changeColor() {
        document.body.classList.toggle('blueBG');
      }
    </script>
  </body>
</html>
